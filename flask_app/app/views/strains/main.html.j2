{% extends "layout.html.j2" %}
{% block content %}
  {% include "basic_header.html.j2" %}

	<div class="row mt-2">
		<div class="col">
			<div class="h3 btn-secondary text-center mb-2">Filter</div>
		</div>
	</div>

  <div class="row mt-2">
		<div class="col">
			<div class="h3 btn-secondary text-center mb-2">Strains list</div>
			<table id="table_strains" class="table table-striped table-bordered table-hover nowrap">
				<thead class="thead-light">
					<tr>
						<th>NPDC No.</th>
						<th>Taxonomy</th>
						<th>Sequence(s)</th>
						<th>Collection date</th>
						<th>Collection place</th>
						<th>Comment</th>
						<th>Ordering</th>
					</tr>
				</thead>
				<tbody class="tbody">
				</tbody>
			</table>
		</div>
	</div>

	<script type="text/javascript">
		$(document).ready(function(){

			$("#table_strains").DataTable({
				searching: false,
				ordering:  false,
				serverSide: true,
				responsive: false,
				processing: true,
				aLengthMenu: [[10, 50, 250], [10, 50, 250]],
	        	iDisplayLength: 10,
				ajax: {
					url: "{{ url_for('root.page') }}api/strains/get_overview",
					type: "GET",
					data: function(d) {
						//
					}
				},
				"columnDefs": [
					{
						targets: 0, // npdc_id
						className: "font-weight-bold",
						render: function(data, type, row, meta) {
							return "<a href='{{ url_for('root.page') }}strains/view/" + data + "'>" + data + "</a>";
						}
					}
				]
			});
		});
	</script>

{% endblock %}